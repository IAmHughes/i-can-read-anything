<!-- translations.html -->
{% extends "base.html" %}
{% block title %}Translations{% endblock %}
{% block content %}
<h1>Translations</h1>
<p><a href="{{ url_for('logout') }}">Logout</a></p>
<textarea id="text" rows="4" cols="50"></textarea>
<button id="translate_button">Translate</button>
<div id="translations"></div>
<h2>Saved translations</h2>
<ul>
{% for t in translations %}
<li>{{ t.text }} - {{ t.translation }}</li>
{% endfor %}
</ul>
<a href="{{ url_for('export_translations') }}">Export translations</a>
{% endblock %}
{% block scripts %}
<script>
$(document).ready(function() {
$('#translate_button').click(function() {
const text = $('#text').val();
$.ajax({
url: "{{ url_for('translate') }}",
method: 'POST',
contentType: 'application/json',
data: JSON.stringify({ 'text': text }),
success: function(data) {
$('#translations').text(data.translated_text);
}
});
});
});
</script>
{% endblock %}
